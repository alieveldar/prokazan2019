var ids;
function ActionAndUpdate(id, nid, pid, act) { CloseBlank(); $("#Msg2").html("Идет сохранение данных..."); $("#Msg2").removeClass(); $("#Msg2").addClass("SaveDiv"); JsHttpRequest.query('modules/adm/static-update-JSReq.php',{'nid':nid, 'pid':pid, 'id':id, 'act':act},function(result,errors){ if(result){ /*s*/ $("#Tgg").html(result["content"]); $("#Msg2").html("Данные успешно сохранены"); $("#Msg2").removeClass(); $("#Msg2").addClass("SuccessDiv"); $('#Tgg input:not(.selectItem)').tzCheckbox({labels:['да ','нет']});  /*e*/ }},true); } 
function ItemDelete(id, nid, pid) { caption="Подтвердите удаление"; text='Удалить публикацию и все её дочерние страницы?<br>Данное действие будет невозможно отменить.'+"<div class='C25'></div><div class='LinkG' style='float:left; margin-right:5px;'><a href='javascript:void(0);' onclick='ActionAndUpdate("+id+", "+nid+", "+pid+", \"DEL\");'>Удалить</a></div><div class='LinkR'><a href='javascript:void(0);' onclick='CloseBlank();'>Отмена</a></div><div class='C10'></div>"; ViewBlank(caption, text); }
function MultiDelete() { ids = []; $('.selectItem:checked').each(function(){ ids.push($(this).attr('id')); }); caption="Подтвердите удаление"; text='Удалить записи?<br>Данное действие будет невозможно отменить.'+"<div class='C25'></div><div class='LinkG' style='float:left; margin-right:5px;'><a href='javascript:void(0);' onclick='ActionAndUpdate(\""+ids.join()+"\", \"\", \"\", \"DEL\");'>Удалить</a></div><div class='LinkR'><a href='javascript:void(0);' onclick='CloseBlank();'>Отмена</a></div><div class='C10'></div>"; ViewBlank(caption, text); } 
function ItemUp(id, nid, pid) { ActionAndUpdate(id, nid, pid, 'UP'); } 
function ItemDown(id, nid, pid) { ActionAndUpdate(id, nid, pid, 'DOWN'); }